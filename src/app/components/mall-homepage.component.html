<!-- Mall Platform Homepage Template -->
<div class="homepage-container rtl-layout" dir="rtl">
  
  <!-- Enhanced Header with Logo and Navigation -->
  <header class="main-header">
    <nav class="navbar">
      <div class="container">
        <div class="navbar-brand">
          <app-mall-logo></app-mall-logo>
        </div>
        <div class="navbar-nav">
          <a href="#features" class="nav-link">امکانات</a>
          <a href="#about" class="nav-link">درباره ما</a>
          <a href="#contact" class="nav-link">تماس با ما</a>
          <button class="btn btn-outline-primary" (click)="openLoginPopup()">
            ورود
          </button>
        </div>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero-section" [@fadeInUp]>
    <div class="hero-background">
      <div class="hero-overlay"></div>
      <div class="hero-particles"></div>
    </div>
    
    <div class="hero-content">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-8">
            <div class="hero-text">
              <h1 class="hero-title" [@slideInRight]>
                <span class="logo-text gradient-text">مال</span>
                <br>
                <span class="main-title">فروشگاه‌ساز حرفه‌ای شما</span>
              </h1>
              <p class="hero-subtitle" [@slideInRight]="'0.2s'">
                با بستر مال، فروشگاه آنلاین خود را در کمترین زمان راه‌اندازی کنید
                <br>
                <strong>تمام امکانات مورد نیاز برای کسب‌وکار آنلاین شما</strong>
              </p>
              
              <!-- FIRST CTA Button (Top) -->
              <div class="hero-buttons" [@slideInUp]="'0.4s'">
                <button class="btn btn-primary btn-xl cta-button primary-cta" 
                        [@pulse] 
                        (click)="openDemoPopup()">
                  <i class="fas fa-rocket"></i>
                  <span>شروع رایگان همین حالا</span>
                  <small>بدون نیاز به کارت اعتباری</small>
                </button>
                <button class="btn btn-outline-light btn-lg demo-btn" 
                        (click)="playDemoVideo()">
                  <i class="fas fa-play-circle"></i>
                  مشاهده دمو ۲ دقیقه‌ای
                </button>
              </div>
              
              <div class="hero-stats" [@fadeInUp]="'0.6s'">
                <div class="stat-item">
                  <span class="stat-number">{{ animatedStats.stores }}+</span>
                  <span class="stat-label">فروشگاه فعال</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number">{{ animatedStats.users }}+</span>
                  <span class="stat-label">کاربر راضی</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number">{{ animatedStats.sales }}+</span>
                  <span class="stat-label">فروش موفق</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number">۹۹.۹%</span>
                  <span class="stat-label">آپتایم سرور</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section" id="features">
    <div class="container">
      <div class="section-header text-center">
        <h2 class="section-title">امکانات ویژه مال</h2>
        <p class="section-subtitle">همه چیز برای راه‌اندازی فروشگاه حرفه‌ای</p>
      </div>
      
      <div class="features-grid">
        <div class="feature-card" 
             *ngFor="let feature of features; let i = index" 
             [@slideInUp]="i * 0.1">
          <div class="feature-icon">
            <i [class]="feature.icon" [style.color]="feature.color"></i>
          </div>
          <h3>{{ feature.title }}</h3>
          <p>{{ feature.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- SECOND CTA Section (Middle/Bottom) -->
  <section class="cta-section-middle">
    <div class="container">
      <div class="cta-content">
        <div class="row align-items-center">
          <div class="col-lg-8">
            <h2>آماده‌اید فروشگاه خود را راه‌اندازی کنید؟</h2>
            <p>به بیش از ۱۵,۰۰۰ کسب‌وکار موفق بپیوندید</p>
            <ul class="cta-benefits">
              <li><i class="fas fa-check"></i> راه‌اندازی رایگان در ۵ دقیقه</li>
              <li><i class="fas fa-check"></i> پشتیبانی ۲۴/۷ رایگان</li>
              <li><i class="fas fa-check"></i> بدون محدودیت محصول</li>
              <li><i class="fas fa-check"></i> ۳۰ روز تضمین بازگشت پول</li>
            </ul>
          </div>
          <div class="col-lg-4 text-center">
            <!-- SECOND CTA Button -->
            <button class="btn btn-white btn-xl cta-button secondary-cta" 
                    [@pulse] 
                    (click)="openDemoPopup()">
              <i class="fas fa-store"></i>
              <span>ایجاد فروشگاه رایگان</span>
              <small>شروع کنید همین الان!</small>
            </button>
            <p class="cta-note">
              <i class="fas fa-shield-alt"></i>
              کاملاً امن و قابل اعتماد
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Us Section -->
  <section class="about-section" id="about">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <div class="about-content">
            <h2 class="section-title">درباره مال</h2>
            <p class="about-description">
              پلتفرم مال با هدف ساده‌سازی راه‌اندازی فروشگاه آنلاین طراحی شده است. 
              ما با سال‌ها تجربه در حوزه تجارت الکترونیک، بهترین ابزارها را برای 
              موفقیت کسب‌وکار شما فراهم کرده‌ایم.
            </p>
            <ul class="about-features">
              <li><i class="fas fa-check"></i> راه‌اندازی آسان در ۵ دقیقه</li>
              <li><i class="fas fa-check"></i> پشتیبانی ۲۴/۷</li>
              <li><i class="fas fa-check"></i> امنیت بالا</li>
              <li><i class="fas fa-check"></i> عملکرد سریع</li>
            </ul>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="about-image">
            <img src="/assets/images/about-team.jpg" alt="تیم مال" class="img-fluid">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Us Section -->
  <section class="contact-section" id="contact">
    <div class="container">
      <div class="section-header text-center">
        <h2 class="section-title">تماس با ما</h2>
        <p class="section-subtitle">در خدمت شما هستیم</p>
      </div>
      
      <div class="row">
        <div class="col-lg-8">
          <div class="contact-form">
            <form [formGroup]="contactForm" (ngSubmit)="submitContactForm()">
              <div class="row">
                <div class="col-md-6">
                  <input type="text" 
                         formControlName="name" 
                         placeholder="نام و نام خانوادگی *"
                         class="form-control">
                </div>
                <div class="col-md-6">
                  <input type="email" 
                         formControlName="email" 
                         placeholder="ایمیل *"
                         class="form-control">
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <input type="tel" 
                         formControlName="phone" 
                         placeholder="شماره تماس"
                         class="form-control">
                </div>
                <div class="col-md-6">
                  <input type="text" 
                         formControlName="subject" 
                         placeholder="موضوع"
                         class="form-control">
                </div>
              </div>
              <textarea formControlName="message" 
                        placeholder="پیام شما *"
                        rows="5"
                        class="form-control"></textarea>
              <button type="submit" 
                      class="btn btn-primary btn-lg"
                      [disabled]="!contactForm.valid || isSubmitting">
                <i class="fas fa-paper-plane"></i>
                {{ isSubmitting ? 'در حال ارسال...' : 'ارسال پیام' }}
              </button>
            </form>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="contact-info">
            <div class="contact-item">
              <i class="fas fa-phone"></i>
              <div>
                <h4>تلفن تماس</h4>
                <p>{{ contactInfo.phone }}</p>
              </div>
            </div>
            <div class="contact-item">
              <i class="fas fa-envelope"></i>
              <div>
                <h4>ایمیل</h4>
                <p>{{ contactInfo.email }}</p>
              </div>
            </div>
            <div class="contact-item">
              <i class="fas fa-map-marker-alt"></i>
              <div>
                <h4>آدرس</h4>
                <p>{{ contactInfo.address }}</p>
              </div>
            </div>
            <div class="contact-item">
              <i class="fas fa-clock"></i>
              <div>
                <h4>ساعات کاری</h4>
                <p>{{ contactInfo.workingHours }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="main-footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <div class="footer-about">
            <app-mall-logo></app-mall-logo>
            <p>بهترین پلتفرم ایجاد فروشگاه آنلاین در ایران</p>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="row">
            <div class="col-md-3">
              <h5>محصول</h5>
              <ul>
                <li><a href="#">امکانات</a></li>
                <li><a href="#">قیمت‌گذاری</a></li>
                <li><a href="#">قالب‌ها</a></li>
              </ul>
            </div>
            <div class="col-md-3">
              <h5>پشتیبانی</h5>
              <ul>
                <li><a href="#">مرکز راهنما</a></li>
                <li><a href="#">تماس با ما</a></li>
                <li><a href="#">وضعیت سرویس</a></li>
              </ul>
            </div>
            <div class="col-md-3">
              <h5>شرکت</h5>
              <ul>
                <li><a href="#">درباره ما</a></li>
                <li><a href="#">وبلاگ</a></li>
                <li><a href="#">حریم خصوصی</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="row">
          <div class="col-md-6">
            <p>&copy; ۲۰۲۵ مال. تمامی حقوق محفوظ است.</p>
          </div>
          <div class="col-md-6 text-left">
            <p>ساخته شده با ❤️ در ایران</p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Pop-up Components -->
  
  <!-- Demo Request Popup -->
  <div class="popup-overlay" *ngIf="showDemoPopup" [@fadeIn]>
    <div class="popup-content demo-popup" [@slideInUp]>
      <button class="popup-close" (click)="closeDemoPopup()">
        <i class="fas fa-times"></i>
      </button>
      <div class="popup-header">
        <h3>درخواست دمو رایگان</h3>
        <p>فروشگاه نمونه خود را همین حالا ببینید</p>
      </div>
      <form [formGroup]="demoForm" (ngSubmit)="submitDemoRequest()">
        <input type="text" 
               formControlName="name" 
               placeholder="نام و نام خانوادگی *"
               class="form-control">
        <input type="tel" 
               formControlName="phone" 
               placeholder="شماره موبایل *"
               class="form-control">
        <input type="email" 
               formControlName="email" 
               placeholder="ایمیل *"
               class="form-control">
        <select formControlName="businessType" class="form-control">
          <option value="">نوع کسب‌وکار شما</option>
          <option value="fashion">پوشاک</option>
          <option value="electronics">الکترونیک</option>
          <option value="books">کتاب</option>
          <option value="food">مواد غذایی</option>
          <option value="other">سایر</option>
        </select>
        <button type="submit" 
                class="btn btn-primary btn-lg btn-block"
                [disabled]="!demoForm.valid || isSubmittingDemo">
          <i class="fas fa-rocket"></i>
          {{ isSubmittingDemo ? 'در حال پردازش...' : 'ایجاد فروشگاه نمونه' }}
        </button>
      </form>
      <p class="popup-note">
        <i class="fas fa-shield-alt"></i>
        اطلاعات شما کاملاً محفوظ است
      </p>
    </div>
  </div>

  <!-- Login Popup -->
  <div class="popup-overlay" *ngIf="showLoginPopup" [@fadeIn]>
    <div class="popup-content login-popup" [@slideInUp]>
      <button class="popup-close" (click)="closeLoginPopup()">
        <i class="fas fa-times"></i>
      </button>
      <div class="popup-header">
        <h3>ورود به مال</h3>
        <p>با شماره موبایل خود وارد شوید</p>
      </div>
      <app-otp-login (loginSuccess)="onLoginSuccess($event)"></app-otp-login>
    </div>
  </div>

  <!-- Online Chat Widget -->
  <div class="chat-widget" [class.open]="showChatWidget">
    <div class="chat-toggle" (click)="toggleChatWidget()">
      <i class="fas fa-comments"></i>
      <span class="chat-notification" *ngIf="hasNewMessage">1</span>
    </div>
    <div class="chat-window" *ngIf="showChatWidget">
      <div class="chat-header">
        <h4>پشتیبانی آنلاین</h4>
        <span class="online-status">آنلاین</span>
        <button class="chat-close" (click)="closeChatWidget()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="chat-body">
        <div class="chat-message support">
          <div class="message-content">
            سلام! چطور می‌تونم کمکتون کنم؟
          </div>
          <div class="message-time">همین الان</div>
        </div>
      </div>
      <div class="chat-input">
        <input type="text" 
               [(ngModel)]="chatMessage"
               (keyup.enter)="sendChatMessage()"
               placeholder="پیام خود را بنویسید...">
        <button (click)="sendChatMessage()" [disabled]="!chatMessage?.trim()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

</div>
